package org.firstinspires.ftc.teamcode;

import com.acmerobotics.dashboard.config.Config;
import com.qualcomm.robotcore.hardware.DcMotor;
import com.qualcomm.robotcore.hardware.DcMotorEx;
import com.qualcomm.robotcore.hardware.HardwareMap;
import com.qualcomm.robotcore.hardware.PIDFCoefficients;
import com.qualcomm.robotcore.util.ElapsedTime;

import org.firstinspires.ftc.robotcore.external.Telemetry;

@Config
public class Launcher {
    ElapsedTime elapsedTime;
    Indexer indexer;
    public double MotorVelocity;
    public DcMotorEx launcher2;
    public DcMotorEx launcher;
    public static double launcherF = 14;
    public static double launcherP = 100.67;
    public static double launcherI = 0.03;
    public static double launcherD = 0;
    public PIDFCoefficients launcherPIDF;

//    double velocity_towards_target = 0;
//    double time_in_air = 0;
//    double[] between_point_1 = {0, 0};
//    double[] between_point_2 = {0, 0};


//    double[] target_ranges = {0.5, 1.2, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0};
//    double[] lower_motor_speeds = {1017,1032,1159,1405,1615,1819,2029,2246,2454,2697};
//    double[] upper_motor_speeds = {2152,1714,1600,1628,1747,1870,2054,2230,2386,2549};
//    double[] time_in_flights = {1.05, 0.9, 0.86, 0.92, 1.01, 1.08, 1.19, 1.27, 1.32, 1.34};

    // ^^^ old ^^^


//    double[] target_ranges = {1.086, 1.2512, 1.4069, 1.6116, 1.8114, 2.0298, 2.297, 2.5567, 3.2474};
//    double[] lower_motor_speeds = {2107.4, 2229.5, 2360.8, 2529, 2706.5, 2889.6, 3100.4, 3316.8, 3914};
//    double[] upper_motor_speeds = {797.66, 752.05, 713.45, 679.53, 654.97, 646.78, 636.26, 632.75, 636.26};

//    double[] target_ranges = {1.14,1.16,1.18,1.2,1.22,1.24,1.26,1.28,1.3,1.32,1.34,1.36,1.38,1.4,1.42,1.44,1.46,1.48,1.5,1.52,1.54,1.56,1.58,1.6,1.62,1.64,1.66,1.68,1.7,1.72,1.74,1.76,1.78,1.8,1.82,1.84,1.86,1.88,1.9,1.92,1.94,1.96,1.98,2,2.02,2.04,2.06,2.08,2.1,2.12,2.14,2.16,2.18,2.2,2.22,2.24,2.26,2.28,2.3,2.32,2.34,2.36,2.38,2.4,2.42,2.44,2.46,2.48,2.5,2.52,2.54,2.56,2.58,2.6,2.62,2.64,2.66,2.68,2.7,2.72,2.74,2.76,2.78,2.8,2.82,2.84,2.86,2.88,2.9,2.92,2.94,2.96,2.98,3,3.02,3.04,3.06,3.08,3.1,3.12,3.14,3.16,3.18,3.2,3.22,3.24,3.26,3.28,3.3,3.32,3.34,3.36,3.38,3.4,3.42,3.44,3.46,3.48,3.5,3.52,3.54,3.56,3.58,3.6,3.62,3.64,3.66,3.68,3.7,3.72,3.74,3.76,3.78,3.8,3.82,3.84,3.86,3.88,3.9,3.92,3.94,3.96,3.98,4,4.02,4.04,4.06,4.08,4.1,4.12,4.14,4.16,4.18,4.2,4.22,4.24,4.26,4.28,4.3,4.32,4.34,4.36,4.38,4.4,4.42,4.44,4.46,4.48,4.5};
//    double[] lower_motor_speeds = {1115.1,1154,1184,1213.9,1244.6,1277.5,1310.5,1343.3,1372.5,1401.7,1431,1455.6,1477.2,1498.8,1520.4,1542,1563.6,1585.7,1608,1630.4,1652.8,1675.1,1697.4,1719.5,1741.6,1763.7,1785.8,1807.8,1828.9,1849.7,1870.4,1891.2,1912,1932.7,1953.9,1975.1,1996.3,2017.5,2038.7,2059.9,2080.7,2098.2,2115.8,2133.4,2151,2168.6,2186.2,2203.8,2221.4,2238.6,2255.4,2272.1,2288.9,2305.7,2322.5,2339.3,2356.1,2372.8,2388.8,2404.4,2420,2435.6,2451.2,2466.8,2482.4,2498,2513.6,2529.2,2544.8,2561.3,2578.8,2596.3,2613.7,2631.2,2648.7,2666.1,2683.6,2701.1,2716.8,2732,2747.2,2762.4,2777.7,2792.9,2808.1,2823.3,2838.6,2853.8,2868.9,2883.3,2897.7,2912.1,2926.5,2940.8,2955.2,2969.6,2984,2998.4,3012.8,3026.9,3040.9,3054.8,3068.7,3082.7,3096.6,3110.5,3124.5,3138.4,3152.4,3166.3,3180,3193.1,3206.2,3219.4,3232.5,3245.6,3258.7,3271.9,3285,3298.1,3311.3,3324.2,3336.9,3349.6,3362.2,3374.9,3387.5,3400.2,3412.9,3425.5,3438.2,3450.8,3463.5,3476.1,3488.7,3501.3,3513.8,3526.4,3539,3551.5,3564.1,3576.7,3589.2,3601.8,3614.4,3627,3639.8,3652.6,3665.4};
//    double[] upper_motor_speeds = {1436.1,1409.7,1393.2,1376.7,1359.2,1338.3,1317.5,1297,1282.5,1268,1253.5,1241.8,1232.1,1222.3,1212.6,1202.9,1193.1,1184.2,1176,1167.8,1159.5,1151.3,1143.1,1134.8,1126.5,1118.2,1109.9,1101.6,1095.3,1089.6,1084,1078.3,1072.6,1066.9,1061.4,1055.9,1050.4,1045,1039.5,1034,1028.9,1026.6,1024.2,1021.8,1019.4,1017,1014.7,1012.3,1009.9,1007.7,1005.6,1003.5,1001.5,999.4,997.4,995.3,993.2,991.2,989.7,988.5,987.2,986,984.8,983.6,982.4,981.2,979.9,978.7,977.5,976.5,975.7,974.9,974.1,973.3,972.6,971.8,971,970.2,970.4,970.8,971.2,971.7,972.1,972.5,972.9,973.4,973.8,974.2,974.7,975.6,976.5,977.3,978.2,979.1,979.9,980.8,981.7,982.5,983.4,985.2,987.4,989.6,991.8,994,996.2,998.4,1000.6,1002.8,1005,1007.2,1009.6,1012.3,1015,1017.6,1020.3,1023,1025.7,1028.4,1031.1,1033.8,1036.4,1039.6,1044,1048.4,1052.8,1057.1,1061.5,1065.9,1070.3,1074.6,1079,1083.4,1087.8,1092.2,1096.7,1101.3,1105.8,1110.3,1114.9,1119.4,1123.9,1128.5,1133,1137.5,1142.1,1146.9,1152.3,1157.8,1163.3};
//    double[] time_in_flights = {0.5953,0.6017,0.6083,0.6149,0.6214,0.6277,0.634,0.6403,0.6461,0.6519,0.6577,0.664,0.6706,0.6772,0.6837,0.6903,0.6969,0.703,0.7087,0.7144,0.7201,0.7258,0.7314,0.7369,0.7424,0.7479,0.7533,0.7588,0.7639,0.7689,0.7739,0.7789,0.7839,0.7889,0.7935,0.798,0.8025,0.807,0.8115,0.816,0.8205,0.8252,0.8298,0.8345,0.8391,0.8438,0.8484,0.8531,0.8577,0.8623,0.8668,0.8714,0.8759,0.8804,0.885,0.8895,0.894,0.8986,0.9031,0.9075,0.912,0.9164,0.9209,0.9253,0.9298,0.9343,0.9387,0.9432,0.9476,0.9516,0.9551,0.9585,0.962,0.9655,0.9689,0.9724,0.9758,0.9793,0.983,0.9868,0.9906,0.9943,0.9981,1.0019,1.0056,1.0094,1.0132,1.017,1.0207,1.0245,1.0283,1.0321,1.0359,1.0397,1.0435,1.0473,1.0511,1.055,1.0588,1.0624,1.0659,1.0694,1.0729,1.0765,1.08,1.0835,1.087,1.0906,1.0941,1.0976,1.1012,1.1048,1.1084,1.1121,1.1157,1.1193,1.1229,1.1266,1.1302,1.1338,1.1375,1.141,1.1444,1.1477,1.151,1.1544,1.1577,1.1611,1.1644,1.1678,1.1711,1.1744,1.1778,1.1811,1.1844,1.1878,1.1911,1.1944,1.1977,1.201,1.2044,1.2077,1.211,1.2143,1.2176,1.2209,1.2239,1.2269,1.2299,1.2329,1.2359,1.2389,1.2419,1.2449,1.2479,1.2509,1.2539,1.2569,1.2599,1.2629,1.2659,1.2689,1.2718,1.2748,1.2778,1.281,1.2844,1.2879,1.2913};

//   double[] target_ranges = {1.1,1.12,1.14,1.16,1.18,1.2,1.22,1.24,1.26,1.28,1.3,1.32,1.34,1.36,1.38,1.4,1.42,1.44,1.46,1.48,1.5,1.52,1.54,1.56,1.58,1.6,1.62,1.64,1.66,1.68,1.7,1.72,1.74,1.76,1.78,1.8,1.82,1.84,1.86,1.88,1.9,1.92,1.94,1.96,1.98,2,2.02,2.04,2.06,2.08,2.1,2.12,2.14,2.16,2.18,2.2,2.22,2.24,2.26,2.28,2.3,2.32,2.34,2.36,2.38,2.4,2.42,2.44,2.46,2.48,2.5,2.52,2.54,2.56,2.58,2.6,2.62,2.64,2.66,2.68,2.7,2.72,2.74,2.76,2.78,2.8,2.82,2.84,2.86,2.88,2.9,2.92,2.94,2.96,2.98,3,3.02,3.04,3.06,3.08,3.1,3.12,3.14,3.16,3.18,3.2,3.22,3.24,3.26,3.28,3.3,3.32,3.34,3.36,3.38,3.4,3.42,3.44,3.46,3.48,3.5,3.52,3.54,3.56,3.58,3.6,3.62,3.64,3.66,3.68,3.7,3.72,3.74,3.76,3.78,3.8,3.82,3.84,3.86,3.88,3.9,3.92,3.94,3.96,3.98,4,4.02,4.04,4.06,4.08,4.1,4.12,4.14,4.16,4.18,4.2,4.22,4.24,4.26,4.28,4.3,4.32,4.34,4.36,4.38,4.4,4.42,4.44,4.46,4.48,4.5};
//   double[] lower_motor_speeds = {1246.8,1254,1261.1,1268.3,1275.4,1282.6,1289.7,1296.9,1304,1311.2,1318.4,1327.3,1336.2,1345.1,1354,1362.9,1371.8,1380.7,1389.6,1398.6,1408.2,1418.4,1428.7,1438.9,1449.1,1459.3,1469.5,1479.7,1489.9,1500.9,1512.2,1523.4,1534.7,1546,1557.3,1568.6,1579.8,1591.1,1602.8,1617,1631.1,1645.3,1659.5,1673.6,1687.8,1702,1716.1,1730.3,1744.5,1758.7,1773,1787.2,1801.4,1815.7,1829.9,1844.1,1858.4,1872.6,1888.9,1905.4,1921.8,1938.3,1954.7,1971.2,1987.7,2004.1,2020.6,2037,2053.5,2071.7,2090.1,2108.5,2126.8,2145.2,2163.6,2182,2200.4,2218.8,2237.1,2255.5,2273.9,2292.2,2310.6,2329,2347.3,2365.7,2384,2403.2,2422.5,2441.9,2461.2,2480.6,2499.9,2519.3,2538.7,2559.7,2585.8,2611.9,2638,2664.1,2690.2,2715,2734.3,2753.6,2772.9,2792.1,2811.4,2830.7,2850,2869.2,2889.3,2911.2,2933.1,2955.1,2977,2998.9,3020.9,3042.8,3064.7,3087.1,3109.5,3131.8,3154.2,3176.5,3198.9,3221.2,3243.5,3265.9,3288.3,3312.1,3336,3359.8,3383.6,3407.4,3431.3,3454.3,3472.5,3490.7,3508.9,3527.1,3545.3,3563.4,3581.6,3599.8,3618,3636.2,3655.8,3675.7,3695.6,3715.5,3735.4,3755.3,3775.2,3795.1,3815,3834.9,3854.3,3873.1,3892,3910.8,3929.6,3948.4,3967.2,3986,4004.8,4023.6,4041.7,4058.8,4076,4093.2,4110.3};
//   double[] upper_motor_speeds = {1286.3,1291.3,1296.3,1301.4,1306.4,1311.5,1316.5,1321.6,1326.6,1331.7,1336.7,1341.8,1346.8,1351.9,1357,1362,1367.1,1372.1,1377.2,1382.2,1387,1391.6,1396.2,1400.8,1405.5,1410.1,1414.7,1419.3,1423.9,1427.8,1431.3,1434.9,1438.5,1442.1,1445.6,1449.2,1452.8,1456.4,1459.8,1462.2,1464.6,1466.9,1469.3,1471.7,1474.1,1476.5,1478.9,1481.3,1482.9,1484.1,1485.3,1486.4,1487.6,1488.8,1490,1491.1,1492.3,1493.5,1492.6,1491.5,1490.5,1489.5,1488.5,1487.4,1486.4,1485.4,1484.3,1483.3,1482.3,1479.8,1477.1,1474.4,1471.8,1469.1,1466.4,1463.8,1460.9,1457.4,1454,1450.5,1447,1443.5,1440,1436.5,1433,1429.5,1426.1,1421.5,1416.7,1411.9,1407.1,1402.3,1397.5,1392.7,1387.9,1382.1,1373.5,1364.8,1356.2,1347.6,1338.9,1330.9,1325.5,1320.2,1314.8,1309.4,1304.1,1298.7,1293.3,1288,1282.5,1276.8,1271,1265.3,1259.6,1253.9,1248.1,1242.4,1236.7,1230.6,1224.4,1218.1,1211.9,1205.7,1199.4,1193.2,1187,1180.7,1174.5,1168.2,1162,1155.7,1149.5,1143.2,1137,1131.2,1128.1,1125,1122,1118.9,1115.8,1112.7,1109.7,1106.6,1103.5,1100.4,1098,1095.8,1093.6,1091.4,1089.2,1087,1084.8,1082.6,1080.4,1078.2,1076.7,1076,1075.3,1074.6,1074,1073.3,1072.6,1071.9,1071.2,1070.6,1070.2,1070.2,1070.2,1070.2,1070.2};
//   double[] time_in_flights = {0.5672,0.5755,0.5839,0.5922,0.6005,0.6088,0.6171,0.6254,0.6337,0.6421,0.6503,0.6577,0.6651,0.6726,0.68,0.6874,0.6948,0.7022,0.7096,0.717,0.724,0.7308,0.7375,0.7442,0.751,0.7577,0.7645,0.7712,0.778,0.7844,0.7907,0.7969,0.8032,0.8095,0.8158,0.8221,0.8284,0.8346,0.8408,0.846,0.8513,0.8566,0.8618,0.8671,0.8723,0.8776,0.8829,0.8881,0.8933,0.8985,0.9036,0.9088,0.914,0.9191,0.9243,0.9294,0.9346,0.9397,0.9443,0.9488,0.9534,0.9579,0.9624,0.9669,0.9715,0.976,0.9805,0.985,0.9896,0.9935,0.9974,1.0013,1.0052,1.0091,1.013,1.0169,1.0208,1.0247,1.0285,1.0323,1.0362,1.04,1.0438,1.0476,1.0515,1.0553,1.0591,1.0627,1.0662,1.0698,1.0733,1.0768,1.0803,1.0838,1.0874,1.0904,1.0921,1.0937,1.0954,1.097,1.0987,1.1007,1.104,1.1074,1.1108,1.1141,1.1175,1.1209,1.1242,1.1276,1.1307,1.1329,1.1352,1.1375,1.1398,1.1421,1.1444,1.1467,1.149,1.1511,1.1532,1.1553,1.1574,1.1595,1.1617,1.1638,1.1659,1.168,1.1701,1.1715,1.173,1.1744,1.1759,1.1773,1.1788,1.1804,1.1833,1.1862,1.1891,1.192,1.1949,1.1978,1.2007,1.2036,1.2065,1.2094,1.2115,1.2135,1.2154,1.2173,1.2193,1.2212,1.2232,1.2251,1.227,1.229,1.2309,1.2329,1.2349,1.2369,1.2389,1.2409,1.2429,1.2449,1.2469,1.2489,1.2512,1.2537,1.2563,1.2588,1.2614};
//

//    double[] target_ranges = {1.1,1.12,1.14,1.16,1.18,1.2,1.22,1.24,1.26,1.28,1.3,1.32,1.34,1.36,1.38,1.4,1.42,1.44,1.46,1.48,1.5,1.52,1.54,1.56,1.58,1.6,1.62,1.64,1.66,1.68,1.7,1.72,1.74,1.76,1.78,1.8,1.82,1.84,1.86,1.88,1.9,1.92,1.94,1.96,1.98,2,2.02,2.04,2.06,2.08,2.1,2.12,2.14,2.16,2.18,2.2,2.22,2.24,2.26,2.28,2.3,2.32,2.34,2.36,2.38,2.4,2.42,2.44,2.46,2.48,2.5,2.52,2.54,2.56,2.58,2.6,2.62,2.64,2.66,2.68,2.7,2.72,2.74,2.76,2.78,2.8,2.82,2.84,2.86,2.88,2.9,2.92,2.94,2.96,2.98,3,3.02,3.04,3.06,3.08,3.1,3.12,3.14,3.16,3.18,3.2,3.22,3.24,3.26,3.28,3.3,3.32,3.34,3.36,3.38,3.4,3.42,3.44,3.46,3.48,3.5,3.52,3.54,3.56,3.58,3.6,3.62,3.64,3.66,3.68,3.7,3.72,3.74,3.76,3.78,3.8,3.82,3.84,3.86,3.88,3.9,3.92,3.94,3.96,3.98,4,4.02,4.04,4.06,4.08,4.1,4.12,4.14,4.16,4.18,4.2,4.22,4.24,4.26,4.28,4.3,4.32,4.34,4.36,4.38,4.4,4.42,4.44,4.46,4.48,4.5};
//    double[] lower_motor_speeds = {1253.1,1260.1,1267,1273.9,1280.9,1287.8,1294.8,1301.7,1308.6,1315.6,1322.8,1331.3,1339.8,1348.3,1356.8,1365.3,1373.9,1382.4,1390.9,1399.4,1408.9,1418.9,1428.9,1438.9,1448.8,1458.8,1468.8,1478.8,1488.7,1499,1509.5,1520,1530.5,1541,1551.5,1562,1572.5,1583,1593.5,1604.2,1615,1625.7,1636.4,1647.2,1657.9,1668.6,1679.4,1689.9,1700.3,1710.7,1721,1731.4,1741.8,1752.2,1762.5,1772.9,1783.3,1793.7,1804.6,1815.4,1826.3,1837.2,1848,1858.9,1869.7,1880.6,1891.5,1903.4,1915.7,1927.9,1940.1,1952.4,1964.6,1976.8,1989,2001.3,2013.6,2025.9,2038.2,2050.5,2062.8,2075.2,2087.5,2099.8,2111.5,2122.6,2133.7,2144.9,2156,2167.2,2178.3,2189.4,2200.6,2211.7,2224.2,2237.6,2251,2264.5,2277.9,2291.3,2304.8,2318.2,2331.7,2345.1,2359.6,2374.3,2389.1,2403.8,2418.6,2433.4,2448.1,2462.9,2478.2,2493.9,2509.6,2525.4,2541.1,2556.8,2572.6,2588.3,2604,2620.1,2636.4,2652.7,2669,2685.3,2701.6,2718,2734.3,2750.6,2766.7,2782.4,2798.1,2813.8,2829.5,2845.3,2861,2876.7,2892.4,2908.1,2923.8,2939.5,2959.2,2980.3,3001.4,3022.5,3043.6,3064.7,3085.7,3104.8,3123.9,3143.1,3162.2,3181.3,3200.4,3219.6,3238.7,3260.6,3282.7,3304.8,3326.9,3349,3371.5,3394.4,3417.3,3440.2,3463.2,3486.1,3514.2,3544,3573.9};
//    double[] upper_motor_speeds = {1278.9,1283.6,1288.3,1293,1297.7,1302.4,1307.1,1311.8,1316.5,1321.2,1326,1331.8,1337.6,1343.3,1349.1,1354.8,1360.6,1366.4,1372.1,1377.9,1383.6,1389.4,1395.1,1400.9,1406.6,1412.4,1418.1,1423.9,1429.6,1434.9,1439.9,1444.9,1449.8,1454.8,1459.8,1464.8,1469.7,1474.7,1479.7,1484.5,1489.4,1494.2,1499,1503.9,1508.7,1513.6,1518.4,1523.2,1528,1532.9,1537.7,1542.5,1547.3,1552.2,1557,1561.8,1566.6,1571.5,1576.4,1581.3,1586.2,1591.1,1596,1600.9,1605.7,1610.6,1615.5,1620.6,1625.7,1630.7,1635.8,1640.9,1645.9,1651,1656.1,1661,1665.7,1670.4,1675.1,1679.8,1684.4,1689.1,1693.8,1698.5,1702.8,1706.6,1710.5,1714.4,1718.3,1722.2,1726,1729.9,1733.8,1737.7,1741.3,1744.8,1748.3,1751.8,1755.3,1758.8,1762.3,1765.8,1769.3,1772.8,1775.5,1778,1780.5,1783,1785.5,1788,1790.5,1793,1794.9,1796.4,1797.9,1799.5,1801,1802.5,1804,1805.5,1807.1,1807.8,1808.1,1808.3,1808.5,1808.8,1809,1809.3,1809.5,1809.8,1809.9,1809.7,1809.5,1809.3,1809.1,1808.9,1808.7,1808.5,1808.3,1808.1,1807.9,1807.7,1806.1,1804.1,1802.1,1800,1798,1796,1793.9,1790.8,1787.7,1784.6,1781.5,1778.4,1775.3,1772.2,1769.1,1763.1,1756.8,1750.6,1744.4,1738.2,1731.3,1723.8,1716.2,1708.7,1701.1,1693.5,1681.7,1668.4,1655.1};
//    double[] time_in_flights = {};

    double[] target_ranges = {1, 1.1,1.12,1.14,1.16,1.18,1.2,1.22,1.24,1.26,1.28,1.3,1.32,1.34,1.36,1.38,1.4,1.42,1.44,1.46,1.48,1.5,1.52,1.54,1.56,1.58,1.6,1.62,1.64,1.66,1.68,1.7,1.72,1.74,1.76,1.78,1.8,1.82,1.84,1.86,1.88,1.9,1.92,1.94,1.96,1.98,2, 2.5, 3, 3.12, 3.5};
    double[] lower_motor_speeds = {1250, 1253.1,1260.1,1267,1273.9,1280.9,1287.8,1294.8,1301.7,1308.6,1315.6,1322.8,1331.3,1339.8,1348.3,1356.8,1365.3,1373.9,1382.4,1390.9,1399.4,1408.9,1418.9,1428.9,1438.9,1448.8,1458.8,1468.8,1478.8,1488.7,1499,1509.5,1520,1530.5,1541,1551.5,1562,1572.5,1583,1593.5,1604.2,1615,1625.7,1636.4,1647.2,1657.9, 1050, 650, 440, 530, 670 /*67 haha*/};
    double[] upper_motor_speeds = {1280, 1278.9,1283.6,1288.3,1293,1297.7,1302.4,1307.1,1311.8,1316.5,1321.2,1326,1331.8,1337.6,1343.3,1349.1,1354.8,1360.6,1366.4,1372.1,1377.9,1383.6,1389.4,1395.1,1400.9,1406.6,1412.4,1418.1,1423.9,1429.6,1434.9,1439.9,1444.9,1449.8,1454.8,1459.8,1464.8,1469.7,1474.7,1479.7,1484.5,1489.4,1494.2,1499,1503.9,1508.7,1900, 2350, 3000, 2930, 2940};
    double[] time_in_flights = {};

    public double lower_motor_interporation_result;
    public double upper_motor_interporation_result;

    public double lower_motor_value_0;
    public double lower_motor_value_1;
    public double upper_motor_value_0;
    public double upper_motor_value_1;

    public void init(HardwareMap hardwareMap, Telemetry telemetry) {
        elapsedTime = new ElapsedTime();
        indexer = new Indexer();
        indexer.init(hardwareMap, telemetry);
        launcher = hardwareMap.get(DcMotorEx.class, "launcher");
        launcher2 = hardwareMap.get(DcMotorEx.class, "launcher2");

        // Set PID coefficients once here
        launcherPIDF = new PIDFCoefficients(launcherP, launcherI, launcherD, launcherF);
        if (launcher != null) launcher.setPIDFCoefficients(DcMotor.RunMode.RUN_USING_ENCODER, launcherPIDF);
        if (launcher2 != null) launcher2.setPIDFCoefficients(DcMotor.RunMode.RUN_USING_ENCODER, launcherPIDF);
    }

    public boolean checkIfSpunUp() {
        if (launcher2 == null || launcher == null) return false;
        double upperVel = launcher2.getVelocity();
        double lowerVel = launcher.getVelocity();
        double scale = (7.0/15.0);
        // If interpolation hasn't run yet return false or 0 = 0
        if (upper_motor_interporation_result == 0 && lower_motor_interporation_result == 0) return false;
        return Math.abs(upperVel - (upper_motor_interporation_result * scale)) < 40
                && Math.abs(lowerVel - (lower_motor_interporation_result * scale)) < 40;
    }



//    public int find_index(double target_x) {
//        if (target_ranges == null || target_ranges.length == 0) return 0;
//        for (int i = 0; i < target_ranges.length; i++){
//            if (target_ranges[i] > target_x){
//                return i;
//            }
//        }
//        return target_ranges.length;
//    }


    //Only works when target ranges is increasing and same length as data
    private double linearInterpolate(double targetX, double[] xs, double[] ys) {
        // before first
        if (targetX <= xs[0]) return ys[0];
        // after last
        if (targetX >= xs[xs.length - 1]) return ys[ys.length - 1];

        // upper bound
        int upper = 0;
        //find index in here
        for (int i = 0; i < xs.length; i++) {
            if (xs[i] > targetX) { upper = i; break; }
        }
        int lower = upper - 1;
        double x0 = xs[lower];
        double x1 = xs[upper];
        double y0 = ys[lower];
        double y1 = ys[upper];

        double slope = (y1 - y0) / (x1 - x0);
        return y0 + slope * (targetX - x0);
    }

    public boolean shoot(double distance) {
        if (distance == 0) {
            launcher.setVelocity(0);
            launcher2.setVelocity(0);
            return true;
        }

        lower_motor_interporation_result = linearInterpolate(distance, target_ranges, lower_motor_speeds);
        upper_motor_interporation_result = linearInterpolate(distance, target_ranges, upper_motor_speeds);

        launcher.setVelocity(lower_motor_interporation_result * 7.0/15.0);
        launcher2.setVelocity(upper_motor_interporation_result * 7.0/15.0);

        return true;
    }
    public boolean shootFudged(double distance, double fudge, double fudge2) {
        if (distance == 0) {
            launcher.setVelocity(0);
            launcher2.setVelocity(0);
            return true;
        }

        lower_motor_interporation_result = linearInterpolate(distance, target_ranges, lower_motor_speeds);
        upper_motor_interporation_result = linearInterpolate(distance, target_ranges, upper_motor_speeds);

        launcher.setVelocity(lower_motor_interporation_result * 7.0/15.0 + fudge);
        launcher2.setVelocity(upper_motor_interporation_result * 7.0/15.0 + fudge2);

        return true;
    }

}
